---
title: "lab 5"
author: "Michelle Knopp"
date: "`r Sys.Date()`"
output: 
  github_document:
    toc: true
    toc_depth: 3
    preserve_yaml: true
  rmdformats::downcute:
    toc_depth: 3
    self_contained: true
    thumbnails: false
    lightbox: true
    gallery: false
    highlight: "tango"
    code_folding: show
always_allow_html: true
knit: (function(inputFile, encoding) {
  rmarkdown::render(inputFile, encoding = encoding,
  output_format = "all") })
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introduction

## Diff-in-Diff models

We will be utilizing diff-in-diff models to analyze the impacts of the New Markets Tax Credit (NMTC) and the Low Income Housing Tax Credit (LIHTC) programs as they relate to social vulnerability and economic changes in Mountain Division tracts.

Diff-In-Diff models are useful as a statistical tool to analyze the effects of a program when there is a treatment group and a group who did not receive the treatment (control group). It can be used when there are two periods, before intervention and after intervention. Since we have tracts who did receive NMTC and LIHTC dollars and tracts who did not, we can analyze the impact of these programs before and after intervention.

## Dependent Variables: SVI Variables, House Price Index, Median Home Values, and Median Income

These variables were chosen as dependent variables to look at the impact of our tax programs. The social vulnerability index looks at 4 categories of interest that the CDC has determined impacts overall vulnerability of communities. It is broken down in the following categories: socioeconomic status, household characteristics, racial & ethnic minority status, and housing type/transportation. We will also be looking at economic variables. The house price index is determined by analyzing mortgage transactions. The median home value and median incomes will be collected by census data. 

## Independent Variables: NMTC and LIHTC Data

New Markets Tax Credits are awarded to community development entities for the purpose of investing in low income communities and recipients must meet strict criteria to be eligible, but the credits are intended to for areas with low median income and high poverty rates.

Low Income Housing Tax Credits are awarded to investors with the purpose of investing in affordable housing for renters. Again, this program is designed to improve neighborhood with low gross incomes and high poverty rates.

# Library

```{r, warning=FALSE, message=FALSE, results='hide'}

# Load packages
library(here)         # relative filepaths for reproducibility
library(rio)          # read excel file from URL
library(tidyverse)    # data wrangling
library(stringi)      # string data wrangling
library(tidycensus)   # US census data
library(ggplot2)      # data visualization
library(kableExtra)   # table formatting
library(scales)       # palette and number formatting
library(unhcrthemes)  # data visualization themes
library(ggrepel)      # data visualization formatting to avoid overlapping
library(rcompanion)   # data visualization of variable distribution
library(ggpubr)       # data visualization of variable distribution
library(moments)      # measures of skewness and kurtosis
library(tinytable)    # format regression tables
library(modelsummary) # format regression tables

```

# Load Functions

```{r, warning=FALSE, message=FALSE, results='hide'}

import::here( "fips_census_regions",
              "load_svi_data",
              "merge_svi_data",
              "census_division",
              "slopegraph_plot",
              "census_pull",
             # notice the use of here::here() that points to the .R file
             # where all these R objects are created
             .from = here::here("analysis/project_data_steps_knopp.R"),
             .character_only = TRUE)
```

```{r, warning=FALSE, message=FALSE}

# Load API key, assign to TidyCensus Package
source(here::here("analysis/password.R"))
census_api_key(census_api_key)
```

# Data

```{r, warning=FALSE, message=FALSE, results='hide'}

# Load NMTC AND LIHTC data sets

svi_divisional_nmtc <- readRDS(here::here(paste0("data/wrangling/", str_replace_all(census_division, " ", "_"), "_svi_divisional_nmtc.rds")))

svi_national_nmtc <- readRDS(here::here(paste0("data/wrangling/", str_replace_all(census_division, " ", "_"), "_svi_national_nmtc.rds")))

svi_divisional_lihtc <- readRDS(here::here(paste0("data/wrangling/", str_replace_all(census_division, " ", "_"), "_svi_divisional_lihtc.rds")))

svi_national_lihtc <- readRDS(here::here(paste0("data/wrangling/", str_replace_all(census_division, " ", "_"), "_svi_national_lihtc.rds")))

```

## View NMTC Data

*Divisional**
```{r}

svi_divisional_nmtc %>% head() %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")

```

**National**

```{r}

svi_national_nmtc %>% head() %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")

```



## View LIHTC Data

**Divisional**

```{r}

svi_divisional_lihtc %>% head() %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")
```

**National**

```{r}

svi_divisional_lihtc %>% head() %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")

```


## Housing Price Index Data

```{r}

hpi_df <- read.csv("https://r-class.github.io/paf-515-course-materials/data/raw/HPI/HPI_AT_BDL_tract.csv")

```

```{r}

hpi_df_10_20 <- hpi_df %>% 
  mutate(GEOID10 = str_pad(tract, 11, "left", pad=0)) %>% 
  filter(year %in% c(2010, 2020))  %>%
 select(GEOID10, state_abbr, year, hpi) %>%
  pivot_wider(names_from = year, values_from = hpi) %>%
  mutate(housing_price_index10 = `2010`,
         housing_price_index20 = `2020`) %>%
  select(GEOID10, state_abbr, housing_price_index10, housing_price_index20)

# View data
hpi_df_10_20 %>% head() %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")

```


```{r}

# Drop state_abbr column for joining
hpi_df_10_20 <- hpi_df_10_20 %>% select(-state_abbr)

```

## Core Based statistical Areas (CBSA) Crosswalk

```{r}

msa_csa_crosswalk <- rio::import("https://r-class.github.io/paf-515-course-materials/data/raw/CSA_MSA_Crosswalk/qcew-county-msa-csa-crosswalk.xlsx", which=4)

msa_csa_crosswalk <- msa_csa_crosswalk %>% 
  mutate(county_fips = str_pad(`County Code`, 5, "left", pad=0),
         cbsa = coalesce(`CSA Title`, `MSA Title`),
         cbsa_code = coalesce(`CSA Code`, `MSA Code`),
         county_title = `County Title`)  %>% 
  select(county_fips, county_title, cbsa, cbsa_code)

msa_csa_crosswalk %>% head() %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")

```


# Census Data

```{r, warning=FALSE, message=FALSE}

states <- list(svi_national_nmtc$state %>% unique())
states 

```

```{r, warning=FALSE, message=FALSE}

census_pull10 <- lapply(states, census_pull, yr = 2010)

census_pull10_df <- census_pull10[[1]] %>%  
  # Drop margin of error column
  select(-moe) %>%
  # Add suffix to variable names
  mutate(variable = paste0(variable, "_10")) %>%
  # Pivot data frame
  pivot_wider(
    names_from = variable,
    values_from = c(estimate)
  )

census_pull10_df %>% head(10) %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")

```


```{r, warning=FALSE, message=FALSE}

census_pull19 <- lapply(states, census_pull, yr = 2019)

census_pull19_df <- census_pull19[[1]] %>% 
  # Select columns
  select(GEOID, NAME, variable, estimate, moe) %>% 
  # Create individual FIPS columns for state, county, and tract
  mutate(FIPS_st = substr(GEOID, 1, 2),
         FIPS_county = substr(GEOID, 3, 5),
         FIPS_tract = substr(GEOID, 6, 11)) %>%
# Los Angeles, CA Census Tract fixes
                      mutate(FIPS_tract2 = if_else((FIPS_county == "037" & FIPS_st == "06" & FIPS_tract == "137000"), "930401", FIPS_tract )) %>%
# Pima County, AZ Census Tract fixes
                      mutate(FIPS_tract2 = if_else((FIPS_county == "019" & FIPS_st == "04" & FIPS_tract == "002704"), "002701", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "019" & FIPS_st == "04" & FIPS_tract == "002906"), "002903", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "019" & FIPS_st == "04" & FIPS_tract == "004118"), "410501", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "019" & FIPS_st == "04" & FIPS_tract == "004121"), "410502", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "019" & FIPS_st == "04" & FIPS_tract == "004125"), "410503", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "019" & FIPS_st == "04" & FIPS_tract == "005200"), "470400", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "019" & FIPS_st == "04" & FIPS_tract == "005300"), "470500", FIPS_tract2 )) %>%
# Madison County, NY Census Tract fixes
                      mutate(FIPS_tract2 = if_else((FIPS_county == "053" & FIPS_st == "36" & FIPS_tract == "030101"), "940101", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "053" & FIPS_st == "36" & FIPS_tract == "030102"), "940102", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "053" & FIPS_st == "36" & FIPS_tract == "030103"), "940103", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "053" & FIPS_st == "36" & FIPS_tract == "030200"), "940200", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "053" & FIPS_st == "36" & FIPS_tract == "030300"), "940300", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "053" & FIPS_st == "36" & FIPS_tract == "030401"), "940401", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "053" & FIPS_st == "36" & FIPS_tract == "030403"), "940403", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "053" & FIPS_st == "36" & FIPS_tract == "030600"), "940600", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "053" & FIPS_st == "36" & FIPS_tract == "030402"), "940700", FIPS_tract2 )) %>%
# Oneida County, NY Census Tract fixes
                      mutate(FIPS_tract2 = if_else((FIPS_county == "065" & FIPS_st == "36" & FIPS_tract == "024800"), "940000", FIPS_tract2 )) %>% 
                      mutate(FIPS_tract2 = if_else((FIPS_county == "065" & FIPS_st == "36" & FIPS_tract == "024700"), "940100", FIPS_tract2 )) %>%
                      mutate(FIPS_tract2 = if_else((FIPS_county == "065" & FIPS_st == "36" & FIPS_tract == "024900"), "940200", FIPS_tract2 )) %>%  
                      # Move columns in data set
                      relocate(c(FIPS_st, FIPS_county, FIPS_tract, FIPS_tract2),.after = GEOID) %>%
                      # Create new GEOID column
                      mutate(GEOID = paste0(FIPS_st, FIPS_county, FIPS_tract2)) %>% 
                      # Drop newly created FIPS columns and margin of error
                      select(-FIPS_st, -FIPS_county, -FIPS_tract, -FIPS_tract2, -moe) %>% 
                      # Add suffix
                      mutate(variable = paste0(variable, "_19")) %>%
                      # Pivot data set
                      pivot_wider(
                        names_from = variable,
                        values_from = c(estimate)
                      ) 

census_pull19_df %>% head(10) %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")

```


```{r, warning=FALSE, message=FALSE}

inflation_adj = 1.16

# Join 2010 and 2019 Median Income and Home Value Data
census_pull_df <- left_join(census_pull10_df, census_pull19_df[c("GEOID", "Median_Income_19", "Median_Home_Value_19")], join_by("GEOID" == "GEOID"))

# Create new inflation adjusted columns for 2010 median income and median home value, find changes over time
census_pull_df <- census_pull_df %>% 
                   mutate(Median_Income_10adj = Median_Income_10*inflation_adj,
                          Median_Home_Value_10adj = Median_Home_Value_10*inflation_adj,
                          Median_Income_Change = Median_Income_19 - Median_Income_10adj,
                          Median_Income_Change_pct = (Median_Income_19 - Median_Income_10adj)/Median_Income_10adj,
                          Median_Home_Value_Change = Median_Home_Value_19 - Median_Home_Value_10adj,
                          Median_Home_Value_Change_pct = (Median_Home_Value_19 - Median_Home_Value_10adj)/Median_Home_Value_10adj)

# View data
census_pull_df %>% head(10) %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")

```

# NMTC Data Sets

*Divisional*

```{r, warning=FALSE, message=FALSE}

svi_divisional_nmtc_df0 <- left_join(svi_divisional_nmtc, census_pull_df, join_by("GEOID_2010_trt" == "GEOID"))

svi_divisional_nmtc_df1 <- left_join(svi_divisional_nmtc_df0, hpi_df_10_20, join_by("GEOID_2010_trt" == "GEOID10")) %>%
                          unite("county_fips", FIPS_st, FIPS_county, sep = "") 

svi_divisional_nmtc_df <- left_join(svi_divisional_nmtc_df1, msa_csa_crosswalk, join_by("county_fips" == "county_fips"))

svi_divisional_nmtc_df %>% head(10) %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")

```

*National*

```{r, warning=FALSE, message=FALSE}
svi_national_nmtc_df0 <- left_join(svi_national_nmtc, census_pull_df, join_by("GEOID_2010_trt" == "GEOID"))

svi_national_nmtc_df1 <- left_join(svi_national_nmtc_df0, hpi_df_10_20, join_by("GEOID_2010_trt" == "GEOID10")) %>%
                          unite("county_fips", FIPS_st, FIPS_county, sep = "") 

svi_national_nmtc_df <- left_join(svi_national_nmtc_df1, msa_csa_crosswalk, join_by("county_fips" == "county_fips"))

svi_national_nmtc_df %>% head(10) %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")
```


# LIHTC Data

*Divisional*

```{r, warning=FALSE, message=FALSE}
svi_divisional_lihtc_df0 <- left_join(svi_divisional_lihtc, census_pull_df, join_by("GEOID_2010_trt" == "GEOID"))

svi_divisional_lihtc_df1 <- left_join(svi_divisional_lihtc_df0, hpi_df_10_20, join_by("GEOID_2010_trt" == "GEOID10")) %>%
                          unite("county_fips", FIPS_st, FIPS_county, sep = "") 

svi_divisional_lihtc_df <- left_join(svi_divisional_lihtc_df1, msa_csa_crosswalk, join_by("county_fips" == "county_fips"))

svi_divisional_lihtc_df %>% head(10) %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")
```


*National*

```{r, warning=FALSE, message=FALSE}
svi_national_lihtc_df0 <- left_join(svi_national_lihtc, census_pull_df, join_by("GEOID_2010_trt" == "GEOID"))

svi_national_lihtc_df1 <- left_join(svi_national_lihtc_df0, hpi_df_10_20, join_by("GEOID_2010_trt" == "GEOID10")) %>%
                          unite("county_fips", FIPS_st, FIPS_county, sep = "") 

svi_national_lihtc_df <- left_join(svi_national_lihtc_df1, msa_csa_crosswalk, join_by("county_fips" == "county_fips"))

svi_national_lihtc_df %>% head(10) %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")
```

# Log NMTC and LIHTC Variables

```{r, warning=FALSE, message=FALSE, results='hide'}
svi_national_nmtc_df$Median_Income_10adj_log <- log(svi_national_nmtc_df$Median_Income_10adj)
svi_national_nmtc_df$Median_Income_19_log <- log(svi_national_nmtc_df$Median_Income_19)

svi_national_nmtc_df$Median_Home_Value_10adj_log = log(svi_national_nmtc_df$Median_Home_Value_10adj)
svi_national_nmtc_df$Median_Home_Value_19_log = log(svi_national_nmtc_df$Median_Home_Value_19)

svi_national_nmtc_df$housing_price_index10_log = log(svi_national_nmtc_df$housing_price_index10)
svi_national_nmtc_df$housing_price_index20_log = log(svi_national_nmtc_df$housing_price_index20)

svi_divisional_nmtc_df$Median_Income_10adj_log <- log(svi_divisional_nmtc_df$Median_Income_10adj)
svi_divisional_nmtc_df$Median_Income_19_log <- log(svi_divisional_nmtc_df$Median_Income_19)

svi_divisional_nmtc_df$Median_Home_Value_10adj_log = log(svi_divisional_nmtc_df$Median_Home_Value_10adj)
svi_divisional_nmtc_df$Median_Home_Value_19_log = log(svi_divisional_nmtc_df$Median_Home_Value_19)

svi_divisional_nmtc_df$housing_price_index10_log = log(svi_divisional_nmtc_df$housing_price_index10)
svi_divisional_nmtc_df$housing_price_index20_log = log(svi_divisional_nmtc_df$housing_price_index20)

svi_national_lihtc_df$Median_Income_10adj_log <- log(svi_national_lihtc_df$Median_Income_10adj)
svi_national_lihtc_df$Median_Income_19_log <- log(svi_national_lihtc_df$Median_Income_19)

svi_national_lihtc_df$Median_Home_Value_10adj_log = log(svi_national_lihtc_df$Median_Home_Value_10adj)
svi_national_lihtc_df$Median_Home_Value_19_log = log(svi_national_lihtc_df$Median_Home_Value_19)

svi_national_lihtc_df$housing_price_index10_log = log(svi_national_lihtc_df$housing_price_index10)
svi_national_lihtc_df$housing_price_index20_log = log(svi_national_lihtc_df$housing_price_index20)

svi_divisional_lihtc_df$Median_Income_10adj_log <- log(svi_divisional_lihtc_df$Median_Income_10adj)
svi_divisional_lihtc_df$Median_Income_19_log <- log(svi_divisional_lihtc_df$Median_Income_19)

svi_divisional_lihtc_df$Median_Home_Value_10adj_log = log(svi_divisional_lihtc_df$Median_Home_Value_10adj)
svi_divisional_lihtc_df$Median_Home_Value_19_log = log(svi_divisional_lihtc_df$Median_Home_Value_19)

svi_divisional_lihtc_df$housing_price_index10_log = log(svi_divisional_lihtc_df$housing_price_index10)
svi_divisional_lihtc_df$housing_price_index20_log = log(svi_divisional_lihtc_df$housing_price_index20)
```

# NMTC Variable Distribution: Mountain Division

## SVI Theme 1: Socioeconomic Status

```{r}

hist(svi_divisional_nmtc_df$F_THEME1_10)

```


```{r}

plotNormalHistogram(svi_divisional_nmtc_df$F_THEME1_10)

```

```{r}

ggdensity(svi_divisional_nmtc_df, x = "F_THEME1_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")

```

```{r}

qqnorm(svi_divisional_nmtc_df$F_THEME1_10, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_THEME1_10, col = "steelblue", lwd = 2)

```

```{r}

# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_THEME1_10)))

```

```{r}

print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_THEME1_10))))

```

```{r}

print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_THEME1_10))))

```

```{r}

print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_THEME1_10) < mean(svi_divisional_nmtc_df$F_THEME1_10)/2))
```

*2020*

```{r}
hist(svi_divisional_nmtc_df$F_THEME1_20)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$F_THEME1_20)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "F_THEME1_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$F_THEME1_20, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_THEME1_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_THEME1_20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_THEME1_20))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_THEME1_20))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_THEME1_20) < mean(svi_divisional_nmtc_df$F_THEME1_20)/2))
```



## SVI THeme 2: Household Characteristics

*2010*
```{r}
hist(svi_divisional_nmtc_df$F_THEME2_10)
```

```{r}

plotNormalHistogram(svi_divisional_nmtc_df$F_THEME2_10)
```

```{r}

ggdensity(svi_divisional_nmtc_df, x = "F_THEME2_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}

qqnorm(svi_divisional_nmtc_df$F_THEME2_10, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_THEME2_10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_THEME2_10)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_THEME2_10))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_THEME2_10))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_THEME2_10) < mean(svi_divisional_nmtc_df$F_THEME2_10)/2))
```
*2020*

```{r}
hist(svi_divisional_nmtc_df$F_THEME2_20)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$F_THEME2_20)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "F_THEME2_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$F_THEME2_20, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_THEME2_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_THEME2_20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_THEME2_20))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_THEME2_20))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_THEME2_20) < mean(svi_divisional_nmtc_df$F_THEME2_20)/2))
```

## SVI Theme 3: Racial & Ethnic Minority Status

*2010*

```{r}
hist(svi_divisional_nmtc_df$F_THEME3_10)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$F_THEME3_10)
```
```{r}
ggdensity(svi_divisional_nmtc_df, x = "F_THEME3_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```
```{r}
qqnorm(svi_divisional_nmtc_df$F_THEME3_10, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_THEME1_10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_THEME3_10)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_THEME3_10))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_THEME3_10))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_THEME3_10) < mean(svi_divisional_nmtc_df$F_THEME3_10)/2))
```
```{r}
table(svi_divisional_nmtc_df$F_THEME3_10)
```
*2020*

```{r}
hist(svi_divisional_nmtc_df$F_THEME3_20)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$F_THEME3_20)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "F_THEME3_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$F_THEME3_20, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_THEME3_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_THEME3_20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_THEME3_20))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_THEME3_20))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_THEME3_20) < mean(svi_divisional_nmtc_df$F_THEME3_20)/2))
```
```{r}
table(svi_divisional_nmtc_df$F_THEME3_20)
```

## SVI Theme 4: Housing Type & Transportation

*2010*

```{r}
hist(svi_divisional_nmtc_df$F_THEME4_10)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$F_THEME4_10)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "F_THEME4_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$F_THEME4_10, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_THEME4_10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_THEME4_10)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_THEME4_10))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_THEME4_10))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_THEME4_10) < mean(svi_divisional_nmtc_df$F_THEME4_10)/2))
```

*2020*
```{r}
hist(svi_divisional_nmtc_df$F_THEME4_20)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$F_THEME4_20)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "F_THEME4_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```
```{r}
qqnorm(svi_divisional_nmtc_df$F_THEME4_20, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_THEME4_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_THEME4_20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_THEME4_20))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_THEME4_20))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_THEME4_20) < mean(svi_divisional_nmtc_df$F_THEME4_20)/2))
```
## SVI OVerall

*2010*

```{r}
hist(svi_divisional_nmtc_df$F_TOTAL_10)
```
```{r}
plotNormalHistogram(svi_divisional_nmtc_df$F_TOTAL_10)
```
```{r}
ggdensity(svi_divisional_nmtc_df, x = "F_TOTAL_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$F_TOTAL_10, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_TOTAL_10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_TOTAL_10)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_TOTAL_10))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_TOTAL_10))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_TOTAL_10) < mean(svi_divisional_nmtc_df$F_TOTAL_10)/2))
```

*2020*

```{r}
hist(svi_divisional_nmtc_df$F_TOTAL_20)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$F_TOTAL_20)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "F_TOTAL_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$F_TOTAL_20, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$F_TOTAL_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$F_TOTAL_20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$F_TOTAL_20))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$F_TOTAL_20))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$F_TOTAL_20) < mean(svi_divisional_nmtc_df$F_TOTAL_20)/2))
```

## Median Income

*2010*
```{r}
options(scipen = 999)
hist(svi_divisional_nmtc_df$Median_Income_10adj)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$Median_Income_10adj)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "Median_Income_10adj", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$Median_Income_10adj, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$Median_Income_10adj, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$Median_Income_10adj)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$Median_Income_10adj, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$Median_Income_10adj, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$Median_Income_10adj, na.rm = TRUE) < mean(svi_divisional_nmtc_df$Median_Income_10adj, na.rm = TRUE)/2))
```

*2010 Log*

```{r}
hist(svi_divisional_nmtc_df$Median_Income_10adj_log)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$Median_Income_10adj_log)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "Median_Income_10adj_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$Median_Income_10adj_log, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$Median_Income_10adj_log, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$Median_Income_10adj_log)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$Median_Income_10adj_log, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$Median_Income_10adj_log, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$Median_Income_10adj_log, na.rm = TRUE) < mean(svi_divisional_nmtc_df$Median_Income_10adj_log, na.rm = TRUE)/2))
```

*2019*

```{r}
options(scipen = 999)
hist(svi_divisional_nmtc_df$Median_Income_19)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$Median_Income_19)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "Median_Income_19", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$Median_Income_19, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$Median_Income_19, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$Median_Income_19)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$Median_Income_19, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$Median_Income_19, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$Median_Income_19, na.rm = TRUE) < mean(svi_divisional_nmtc_df$Median_Income_19, na.rm = TRUE)/2))
```

## Median Home Value

*2010*

```{r}
hist(svi_divisional_nmtc_df$Median_Home_Value_10adj)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$Median_Home_Value_10adj)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "Median_Home_Value_10adj", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$Median_Home_Value_10adj, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$Median_Home_Value_10adj, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$Median_Home_Value_10adj)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$Median_Home_Value_10adj, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$Median_Home_Value_10adj, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$Median_Home_Value_10adj, na.rm = TRUE) < mean(svi_divisional_nmtc_df$Median_Home_Value_10adj, na.rm = TRUE)/2))
```
*2010 Log*

```{r}
hist(svi_divisional_nmtc_df$Median_Home_Value_10adj_log)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$Median_Home_Value_10adj_log)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "Median_Home_Value_10adj_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$Median_Home_Value_10adj_log, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$Median_Home_Value_10adj_log, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$Median_Home_Value_10adj_log)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$Median_Home_Value_10adj_log, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$Median_Home_Value_10adj_log, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$Median_Home_Value_10adj_log, na.rm = TRUE) < mean(svi_divisional_nmtc_df$Median_Home_Value_10adj_log, na.rm = TRUE)/2))
```

*2019*

```{r}
hist(svi_divisional_nmtc_df$Median_Home_Value_19)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$Median_Home_Value_19)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "Median_Home_Value_19", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$Median_Home_Value_19, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$Median_Home_Value_19, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$Median_Home_Value_19)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$Median_Home_Value_19, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$Median_Home_Value_19, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$Median_Home_Value_19, na.rm = TRUE) < mean(svi_divisional_nmtc_df$Median_Home_Value_19, na.rm = TRUE)/2))
```

*2019 Log*

```{r}
hist(svi_divisional_nmtc_df$Median_Home_Value_19_log)
```
```{r}
plotNormalHistogram(svi_divisional_nmtc_df$Median_Home_Value_19_log)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "Median_Home_Value_19_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$Median_Home_Value_19_log, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$Median_Home_Value_19_log, col = "steelblue", lwd = 2)

```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$Median_Home_Value_19_log)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$Median_Home_Value_19_log, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$Median_Home_Value_19_log, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$Median_Home_Value_19_log, na.rm = TRUE) < mean(svi_divisional_nmtc_df$Median_Home_Value_19_log, na.rm = TRUE)/2))
```

## Housing Price Index

*2010

```{r}
hist(svi_divisional_nmtc_df$housing_price_index10)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$housing_price_index10)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "housing_price_index10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$housing_price_index10, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$housing_price_index10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$housing_price_index10)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$housing_price_index10, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$housing_price_index10, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$housing_price_index10, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$housing_price_index10, na.rm = TRUE) < mean(svi_divisional_nmtc_df$housing_price_index10, na.rm = TRUE)/2))
```
*2010 Log*

```{r}
hist(svi_divisional_nmtc_df$housing_price_index10_log)
```
```{r}
plotNormalHistogram(svi_divisional_nmtc_df$housing_price_index10_log)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "housing_price_index10_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$housing_price_index10_log, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$housing_price_index10_log, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$housing_price_index10_log)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$housing_price_index10_log, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$housing_price_index10_log, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$housing_price_index10_log, na.rm = TRUE) < mean(svi_divisional_nmtc_df$housing_price_index10_log, na.rm = TRUE)/2))
```

*2020*

```{r}
hist(svi_divisional_nmtc_df$housing_price_index20)
```
```{r}
plotNormalHistogram(svi_divisional_nmtc_df$housing_price_index20)
```

```{r}
ggdensity(svi_divisional_nmtc_df, x = "housing_price_index20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$housing_price_index20, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$housing_price_index20, col = "steelblue", lwd = 2)
```
```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$housing_price_index20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$housing_price_index20, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$housing_price_index20, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$housing_price_index20, na.rm = TRUE) < mean(svi_divisional_nmtc_df$housing_price_index20, na.rm = TRUE)/2))
```

*2020 Log*

```{r}
hist(svi_divisional_nmtc_df$housing_price_index20_log)
```

```{r}
plotNormalHistogram(svi_divisional_nmtc_df$housing_price_index20_log)
```
```{r}
ggdensity(svi_divisional_nmtc_df, x = "housing_price_index20_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_nmtc_df$housing_price_index20_log, pch = 1, frame = FALSE)
qqline(svi_divisional_nmtc_df$housing_price_index20_log, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_nmtc_df$housing_price_index20_log)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_nmtc_df$housing_price_index20_log, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_nmtc_df$housing_price_index20_log, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_nmtc_df$housing_price_index20_log, na.rm = TRUE) < mean(svi_divisional_nmtc_df$housing_price_index20_log, na.rm = TRUE)/2))
```

# LIHTC Variable Distribution: Mountain Division

## SVI Theme 1: Socioeconomic Status

```{r}

hist(svi_divisional_lihtc_df$F_THEME1_10)

```


```{r}

plotNormalHistogram(svi_divisional_lihtc_df$F_THEME1_10)

```

```{r}

ggdensity(svi_divisional_lihtc_df, x = "F_THEME1_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")

```

```{r}

qqnorm(svi_divisional_lihtc_df$F_THEME1_10, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_THEME1_10, col = "steelblue", lwd = 2)

```

```{r}

# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_THEME1_10)))

```

```{r}

print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_THEME1_10))))

```

```{r}

print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_THEME1_10))))

```

```{r}

print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_THEME1_10) < mean(svi_divisional_lihtc_df$F_THEME1_10)/2))
```

*2020*
  
```{r}
hist(svi_divisional_lihtc_df$F_THEME1_20)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$F_THEME1_20)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "F_THEME1_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$F_THEME1_20, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_THEME1_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_THEME1_20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_THEME1_20))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_THEME1_20))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_THEME1_20) < mean(svi_divisional_lihtc_df$F_THEME1_20)/2))
```



## SVI THeme 2: Household Characteristics

*2010*

```{r}
hist(svi_divisional_lihtc_df$F_THEME2_10)
```

```{r}

plotNormalHistogram(svi_divisional_lihtc_df$F_THEME2_10)
```

```{r}

ggdensity(svi_divisional_lihtc_df, x = "F_THEME2_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}

qqnorm(svi_divisional_lihtc_df$F_THEME2_10, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_THEME2_10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_THEME2_10)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_THEME2_10))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_THEME2_10))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_THEME2_10) < mean(svi_divisional_lihtc_df$F_THEME2_10)/2))
```
*2020*
  
```{r}
hist(svi_divisional_lihtc_df$F_THEME2_20)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$F_THEME2_20)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "F_THEME2_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$F_THEME2_20, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_THEME2_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_THEME2_20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_THEME2_20))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_THEME2_20))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_THEME2_20) < mean(svi_divisional_lihtc_df$F_THEME2_20)/2))
```

## SVI Theme 3: Racial & Ethnic Minority Status

*2010*
  
```{r}
hist(svi_divisional_lihtc_df$F_THEME3_10)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$F_THEME3_10)
```
```{r}
ggdensity(svi_divisional_lihtc_df, x = "F_THEME3_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```
```{r}
qqnorm(svi_divisional_lihtc_df$F_THEME3_10, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_THEME1_10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_THEME3_10)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_THEME3_10))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_THEME3_10))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_THEME3_10) < mean(svi_divisional_lihtc_df$F_THEME3_10)/2))
```
```{r}
table(svi_divisional_lihtc_df$F_THEME3_10)
```
*2020*
  
```{r}
hist(svi_divisional_lihtc_df$F_THEME3_20)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$F_THEME3_20)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "F_THEME3_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$F_THEME3_20, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_THEME3_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_THEME3_20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_THEME3_20))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_THEME3_20))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_THEME3_20) < mean(svi_divisional_lihtc_df$F_THEME3_20)/2))
```
```{r}
table(svi_divisional_lihtc_df$F_THEME3_20)
```

## SVI Theme 4: Housing Type & Transportation

*2010*
  
```{r}
hist(svi_divisional_lihtc_df$F_THEME4_10)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$F_THEME4_10)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "F_THEME4_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$F_THEME4_10, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_THEME4_10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_THEME4_10)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_THEME4_10))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_THEME4_10))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_THEME4_10) < mean(svi_divisional_lihtc_df$F_THEME4_10)/2))
```

*2020*
```{r}
hist(svi_divisional_lihtc_df$F_THEME4_20)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$F_THEME4_20)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "F_THEME4_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```
```{r}
qqnorm(svi_divisional_lihtc_df$F_THEME4_20, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_THEME4_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_THEME4_20)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_THEME4_20))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_THEME4_20))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_THEME4_20) < mean(svi_divisional_lihtc_df$F_THEME4_20)/2))
```


## SVI Overall

*2010*
  
```{r}
hist(svi_divisional_lihtc_df$F_TOTAL_10)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$F_TOTAL_10)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "F_TOTAL_10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$F_TOTAL_10, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_TOTAL_10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_TOTAL_10)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_TOTAL_10))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_TOTAL_10))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_TOTAL_10) < mean(svi_divisional_lihtc_df$F_TOTAL_10)/2))
```

*2020*
  
```{r}
hist(svi_divisional_lihtc_df$F_TOTAL_20)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$F_TOTAL_20)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "F_TOTAL_20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$F_TOTAL_20, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$F_TOTAL_20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$F_TOTAL_20)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$F_TOTAL_20))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$F_TOTAL_20))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$F_TOTAL_20) < mean(svi_divisional_lihtc_df$F_TOTAL_20)/2))
```

## Median Income

*2010*

```{r}
options(scipen = 999)
hist(svi_divisional_lihtc_df$Median_Income_10adj)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$Median_Income_10adj)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "Median_Income_10adj", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$Median_Income_10adj, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$Median_Income_10adj, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$Median_Income_10adj)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$Median_Income_10adj, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$Median_Income_10adj, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$Median_Income_10adj, na.rm = TRUE) < mean(svi_divisional_lihtc_df$Median_Income_10adj, na.rm = TRUE)/2))
```

*2010 Log*
  
```{r}
hist(svi_divisional_lihtc_df$Median_Income_10adj_log)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$Median_Income_10adj_log)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "Median_Income_10adj_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$Median_Income_10adj_log, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$Median_Income_10adj_log, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$Median_Income_10adj_log)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$Median_Income_10adj_log, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$Median_Income_10adj_log, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$Median_Income_10adj_log, na.rm = TRUE) < mean(svi_divisional_lihtc_df$Median_Income_10adj_log, na.rm = TRUE)/2))
```

*2019*
  
```{r}
options(scipen = 999)
hist(svi_divisional_lihtc_df$Median_Income_19)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$Median_Income_19)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "Median_Income_19", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$Median_Income_19, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$Median_Income_19, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$Median_Income_19)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$Median_Income_19, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$Median_Income_19, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$Median_Income_19, na.rm = TRUE) < mean(svi_divisional_lihtc_df$Median_Income_19, na.rm = TRUE)/2))
```

## Median Home Value

*2010*
  
```{r}
hist(svi_divisional_lihtc_df$Median_Home_Value_10adj)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$Median_Home_Value_10adj)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "Median_Home_Value_10adj", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$Median_Home_Value_10adj, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$Median_Home_Value_10adj, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$Median_Home_Value_10adj)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$Median_Home_Value_10adj, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$Median_Home_Value_10adj, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$Median_Home_Value_10adj, na.rm = TRUE) < mean(svi_divisional_lihtc_df$Median_Home_Value_10adj, na.rm = TRUE)/2))
```

*2010 Log*
  
```{r}
hist(svi_divisional_lihtc_df$Median_Home_Value_10adj_log)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$Median_Home_Value_10adj_log)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "Median_Home_Value_10adj_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$Median_Home_Value_10adj_log, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$Median_Home_Value_10adj_log, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$Median_Home_Value_10adj_log)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$Median_Home_Value_10adj_log, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$Median_Home_Value_10adj_log, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$Median_Home_Value_10adj_log, na.rm = TRUE) < mean(svi_divisional_lihtc_df$Median_Home_Value_10adj_log, na.rm = TRUE)/2))
```

*2019*
  
```{r}
hist(svi_divisional_lihtc_df$Median_Home_Value_19)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$Median_Home_Value_19)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "Median_Home_Value_19", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$Median_Home_Value_19, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$Median_Home_Value_19, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$Median_Home_Value_19)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$Median_Home_Value_19, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$Median_Home_Value_19, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$Median_Home_Value_19, na.rm = TRUE) < mean(svi_divisional_lihtc_df$Median_Home_Value_19, na.rm = TRUE)/2))
```

*2019 Log*
  
```{r}
hist(svi_divisional_lihtc_df$Median_Home_Value_19_log)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$Median_Home_Value_19_log)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "Median_Home_Value_19_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$Median_Home_Value_19_log, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$Median_Home_Value_19_log, col = "steelblue", lwd = 2)

```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$Median_Home_Value_19_log)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$Median_Home_Value_19_log, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$Median_Home_Value_19_log, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$Median_Home_Value_19_log, na.rm = TRUE) < mean(svi_divisional_lihtc_df$Median_Home_Value_19_log, na.rm = TRUE)/2))
```

## Housing Price Index

*2010

```{r}
hist(svi_divisional_lihtc_df$housing_price_index10)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$housing_price_index10)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "housing_price_index10", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$housing_price_index10, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$housing_price_index10, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$housing_price_index10)))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$housing_price_index10, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$housing_price_index10, na.rm = TRUE))))
```
```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$housing_price_index10, na.rm = TRUE))))
```
```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$housing_price_index10, na.rm = TRUE) < mean(svi_divisional_lihtc_df$housing_price_index10, na.rm = TRUE)/2))
```
*2010 Log*
  
```{r}
hist(svi_divisional_lihtc_df$housing_price_index10_log)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$housing_price_index10_log)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "housing_price_index10_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$housing_price_index10_log, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$housing_price_index10_log, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$housing_price_index10_log)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$housing_price_index10_log, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$housing_price_index10_log, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$housing_price_index10_log, na.rm = TRUE) < mean(svi_divisional_lihtc_df$housing_price_index10_log, na.rm = TRUE)/2))
```

*2020*
  
```{r}
hist(svi_divisional_lihtc_df$housing_price_index20)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$housing_price_index20)
```

```{r}
ggdensity(svi_divisional_lihtc_df, x = "housing_price_index20", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$housing_price_index20, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$housing_price_index20, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$housing_price_index20)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$housing_price_index20, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$housing_price_index20, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$housing_price_index20, na.rm = TRUE) < mean(svi_divisional_lihtc_df$housing_price_index20, na.rm = TRUE)/2))
```

*2020 Log*
  
```{r}
hist(svi_divisional_lihtc_df$housing_price_index20_log)
```

```{r}
plotNormalHistogram(svi_divisional_lihtc_df$housing_price_index20_log)
```
```{r}
ggdensity(svi_divisional_lihtc_df, x = "housing_price_index20_log", fill = "lightgray") +
  stat_overlay_normal_density(color = "red", linetype = "dashed")
```

```{r}
qqnorm(svi_divisional_lihtc_df$housing_price_index20_log, pch = 1, frame = FALSE)
qqline(svi_divisional_lihtc_df$housing_price_index20_log, col = "steelblue", lwd = 2)
```

```{r}
# Statistics

print(paste0("Length: ", length(svi_divisional_lihtc_df$housing_price_index20_log)))
```

```{r}
print(paste0("Absolute Skewness: ", abs(skewness(svi_divisional_lihtc_df$housing_price_index20_log, na.rm = TRUE))))
```

```{r}
print(paste0("Absolute Excess Kurtosis: ", abs(3 - kurtosis(svi_divisional_lihtc_df$housing_price_index20_log, na.rm = TRUE))))
```

```{r}
print(paste0("Standard deviation is less than 1/2 mean: ", sd(svi_divisional_lihtc_df$housing_price_index20_log, na.rm = TRUE) < mean(svi_divisional_lihtc_df$housing_price_index20_log, na.rm = TRUE)/2))
```

# Differences-in-Differences Models

## NMTC Evaluation

### Divisional SVI

```{r, warning=FALSE, message=FALSE}
# Create 2010 df, create post variable and set to 0, create year variable and set to 2010
nmtc_did10_div_svi <- svi_divisional_nmtc_df %>% 
  select(GEOID_2010_trt, cbsa, F_THEME1_10, F_THEME2_10, F_THEME3_10, F_THEME4_10, F_TOTAL_10, nmtc_flag) %>% 
  mutate(post = 0,
         year = 2010) %>%
  rename("treat" = "nmtc_flag",
         "SVI_FLAG_COUNT_SES" = "F_THEME1_10",
         "SVI_FLAG_COUNT_HHCHAR" = "F_THEME2_10",
         "SVI_FLAG_COUNT_REM" = "F_THEME3_10",
         "SVI_FLAG_COUNT_HOUSETRANSPT" = "F_THEME4_10",
         "SVI_FLAG_COUNT_OVERALL" = "F_TOTAL_10") 

nrow(nmtc_did10_div_svi)
```


```{r, warning=FALSE, message=FALSE}
# Create 2020 df, create post variable and set to 1, create year variable and set to 2020
nmtc_did20_div_svi <- svi_divisional_nmtc_df %>% 
  select(GEOID_2010_trt, cbsa, F_THEME1_20, F_THEME2_20, F_THEME3_20, F_THEME4_20, F_TOTAL_20, nmtc_flag) %>% 
  mutate(post = 1,
         year = 2020) %>%
  rename("treat" = "nmtc_flag",
         "SVI_FLAG_COUNT_SES" = "F_THEME1_20",
         "SVI_FLAG_COUNT_HHCHAR" = "F_THEME2_20",
         "SVI_FLAG_COUNT_REM" = "F_THEME3_20",
         "SVI_FLAG_COUNT_HOUSETRANSPT" = "F_THEME4_20",
         "SVI_FLAG_COUNT_OVERALL" = "F_TOTAL_20"
  )


nrow(nmtc_did20_div_svi)
```


```{r, warning=FALSE, message=FALSE}
nmtc_diff_in_diff_div_svi <- bind_rows(nmtc_did10_div_svi, nmtc_did20_div_svi)

nmtc_diff_in_diff_div_svi <- nmtc_diff_in_diff_div_svi %>% arrange(post, treat, GEOID_2010_trt)

nrow(nmtc_diff_in_diff_div_svi)
```


### Divisional Median Income

```{r, warning=FALSE, message=FALSE}
# Create 2010 df, create post variable and set to 0, create year variable and set to 2010, remove any tracts that don't have data for 2010 and 2019
nmtc_did10_div_inc <- svi_divisional_nmtc_df %>% 
  filter(!is.na(Median_Income_10adj_log)) %>% filter(!is.na(Median_Income_19_log)) %>%
  select(GEOID_2010_trt, cbsa, Median_Income_10adj_log, nmtc_flag) %>% 
  mutate(post = 0,
         year = 2010) %>%
  rename("treat" = "nmtc_flag",
         "MEDIAN_INCOME" = "Median_Income_10adj_log") 


nrow(nmtc_did10_div_inc)
```


```{r, warning=FALSE, message=FALSE}
# Create 2019 df, create post variable and set to 1, create year variable and set to 2019, remove any tracts that don't have data for 2010 and 2019
nmtc_did19_div_inc <- svi_divisional_nmtc_df %>% 
  filter(!is.na(Median_Income_10adj_log)) %>% filter(!is.na(Median_Income_19_log)) %>%
  select(GEOID_2010_trt, cbsa, Median_Income_19_log, nmtc_flag) %>% 
  mutate(post = 1,
         year = 2019) %>%
  rename("treat" = "nmtc_flag",
         "MEDIAN_INCOME" = "Median_Income_19_log") 


nrow(nmtc_did19_div_inc)
```

```{r, warning=FALSE, message=FALSE}
nmtc_diff_in_diff_div_inc <- bind_rows(nmtc_did10_div_inc, nmtc_did19_div_inc)

nmtc_diff_in_diff_div_inc <- nmtc_diff_in_diff_div_inc %>% arrange(post, treat, GEOID_2010_trt)

nrow(nmtc_diff_in_diff_div_inc)
```
```{r}
nmtc_diff_in_diff_div_svi %>% head() %>% kbl() %>% kable_styling() %>% scroll_box(width = "100%")
```


### Divisional Home Value

```{r, warning=FALSE, message=FALSE}
nmtc_did10_div_mhv <- svi_divisional_nmtc_df %>% 
  filter(!is.na(Median_Home_Value_10adj_log)) %>% filter(!is.na(Median_Home_Value_19_log)) %>%
  select(GEOID_2010_trt, cbsa, Median_Home_Value_10adj_log, nmtc_flag) %>% 
  mutate(post = 0,
         year = 2010) %>%
  rename("treat" = "nmtc_flag",
         "MEDIAN_HOME_VALUE" = "Median_Home_Value_10adj_log") 


nrow(nmtc_did10_div_mhv)
```


```{r, warning=FALSE, message=FALSE}
nmtc_did19_div_mhv <- svi_divisional_nmtc_df %>% 
  filter(!is.na(Median_Home_Value_10adj_log)) %>% filter(!is.na(Median_Home_Value_19_log)) %>%
  select(GEOID_2010_trt, cbsa, Median_Home_Value_19_log, nmtc_flag) %>% 
  mutate(post = 1,
         year = 2019) %>%
  rename("treat" = "nmtc_flag",
         "MEDIAN_HOME_VALUE" = "Median_Home_Value_19_log") 


nrow(nmtc_did19_div_mhv)
```


```{r, warning=FALSE, message=FALSE}
nmtc_diff_in_diff_div_mhv <- bind_rows(nmtc_did10_div_mhv, nmtc_did19_div_mhv)

nmtc_diff_in_diff_div_mhv <- nmtc_diff_in_diff_div_mhv %>% arrange(post, treat, GEOID_2010_trt)

nrow(nmtc_diff_in_diff_div_mhv)
```


### Divisional House Price Index

```{r, warning=FALSE, message=FALSE}
nmtc_did10_div_hpi <- svi_divisional_nmtc_df %>% 
  filter(!is.na(housing_price_index10_log)) %>% filter(!is.na(housing_price_index20_log)) %>%
  select(GEOID_2010_trt, cbsa, housing_price_index10_log, nmtc_flag) %>% 
  mutate(post = 0,
         year = 2010) %>%
  rename("treat" = "nmtc_flag",
         "HOUSE_PRICE_INDEX" = "housing_price_index10_log") 


nrow(nmtc_did10_div_hpi)
```


```{r, warning=FALSE, message=FALSE}
nmtc_did20_div_hpi <- svi_divisional_nmtc_df %>% 
  filter(!is.na(housing_price_index10_log)) %>% filter(!is.na(housing_price_index20_log)) %>%
  select(GEOID_2010_trt, cbsa, housing_price_index20_log, nmtc_flag) %>% 
  mutate(post = 1,
         year = 2020) %>%
  rename("treat" = "nmtc_flag",
         "HOUSE_PRICE_INDEX" = "housing_price_index20_log") 


nrow(nmtc_did20_div_hpi)
```


```{r, warning=FALSE, message=FALSE}
nmtc_diff_in_diff_div_hpi <- bind_rows(nmtc_did10_div_hpi, nmtc_did20_div_hpi)

nmtc_diff_in_diff_div_hpi <- nmtc_diff_in_diff_div_hpi %>% arrange(post, treat, GEOID_2010_trt)

nrow(nmtc_diff_in_diff_div_hpi)
```


## NMTC Divisional Model

```{r, warning=FALSE, message=FALSE}
# SVI & Economic Models

m1_nmtc_div <- lm( SVI_FLAG_COUNT_SES ~ treat + post + treat*post + cbsa, data=nmtc_diff_in_diff_div_svi )

m2_nmtc_div <- lm( SVI_FLAG_COUNT_HHCHAR ~ treat + post + treat*post + cbsa, data=nmtc_diff_in_diff_div_svi )

m3_nmtc_div <- lm( SVI_FLAG_COUNT_REM ~ treat + post + treat*post + cbsa, data=nmtc_diff_in_diff_div_svi )

m4_nmtc_div <- lm( SVI_FLAG_COUNT_HOUSETRANSPT ~ treat + post + treat*post + cbsa, data=nmtc_diff_in_diff_div_svi )

m5_nmtc_div <- lm( SVI_FLAG_COUNT_OVERALL  ~ treat + post + treat*post + cbsa, data=nmtc_diff_in_diff_div_svi)

m6_nmtc_div <- lm( MEDIAN_INCOME ~ treat + post + treat*post + cbsa, data=nmtc_diff_in_diff_div_inc )

m7_nmtc_div <- lm( MEDIAN_HOME_VALUE ~ treat + post + treat*post + cbsa, data=nmtc_diff_in_diff_div_mhv )

m8_nmtc_div <- lm( HOUSE_PRICE_INDEX ~ treat + post + treat*post + cbsa, data=nmtc_diff_in_diff_div_hpi )

# Add all models to a list
models <- list(
  
  "SES" = m1_nmtc_div,
  "HHChar"  = m2_nmtc_div,
  "REM" = m3_nmtc_div,
  "HOUSETRANSPT" = m4_nmtc_div,
  "OVERALL" = m5_nmtc_div,
  "Median Income (USD, logged)" = m6_nmtc_div,
  "Median Home Value (USD, logged)" = m7_nmtc_div,
  "House Price Index (logged)" = m8_nmtc_div
)


# Display model results
modelsummary(models,  fmt = 2, stars = c('*' = .05, '**' = .01, '***' = .001), coef_omit = "cbsa", gof_omit = "IC|Log",
             notes = list('All models include metro-level fixed effects by core-based statistical area (cbsa).'),
             title = paste0("Differences-in-Differences Linear Regression Analysis of NMTC in ", census_division)) %>%
  group_tt(j = list("Social Vulnerability" = 2:6, "Economic Outcomes" = 7:9))
```

In looking at our social vulnerability index models, we see that there were no categories in the Mountain Division that experienced statistically significant changes in regards to those counties receiving NMTC funding. In particular, we are looking for statistically significant changes in the treat x post variable and none exist in the Mountain Division.

In evaluating the indicators of economic conditions, again we do not see any significantly significant changes in economic outcomes in counties receiving NMTC funding versus those that did not.

### Visualize SES

```{r, warning=FALSE, message=FALSE}
status <- c("NMTC Non-Participant", 
             "NMTC Participant Counterfactual", 
             "NMTC Participant", 
             "NMTC Non-Participant", 
             "NMTC Participant Counterfactual", 
             "NMTC Participant")
year <- c(2010, 
          2010, 
          2010, 
          2020, 
          2020, 
          2020)
outcome <- c(m1_nmtc_div$coefficients[1], 
           m1_nmtc_div$coefficients[1] + m1_nmtc_div$coefficients[2], 
           m1_nmtc_div$coefficients[1] + m1_nmtc_div$coefficients[2],
           m1_nmtc_div$coefficients[1] + m1_nmtc_div$coefficients[3], 
           m1_nmtc_div$coefficients[1] + m1_nmtc_div$coefficients[2] + m1_nmtc_div$coefficients[3],
           m1_nmtc_div$coefficients[1] + m1_nmtc_div$coefficients[2] + m1_nmtc_div$coefficients[3] + m1_nmtc_div$coefficients[length(m1_nmtc_div$coefficients)])

svidiv_viz_ses_nmtc <- data.frame(status, year, outcome)
svidiv_viz_ses_nmtc$outcome_label <- round(svidiv_viz_ses_nmtc$outcome, 2)
svidiv_viz_ses_nmtc

```


```{r, warning=FALSE, message=FALSE}
slopegraph_plot(svidiv_viz_ses_nmtc, "NMTC Participant", "NMTC Non-Participant","Impact of NMTC Program on SVI SES Flag Count", paste0(census_division, " | 2010 - 2020"))
```

The slopegraph for SES SVI flags for the NMTC program indicates that in the Mountain Division our NMTC Participant Tracts did not experience a notable decrease in socioeconomic social vulnerability flags in 2020 from the expected count of 2.59 for the counterfactual to 2.61 for the actual outcome.


Because we do not have any statistically significants changes in our outcomes we not need to visualize the counterfactual and outcome graphs. This slopegraph for the SES flag was included for demonstration.



## LIHTC Evaluation

### Divisional SVI

```{r}
# Create 2010 df, create post variable and set to 0, create year variable and set to 2010
lihtc_did10_div_svi <- svi_divisional_lihtc_df %>% 
  select(GEOID_2010_trt, cbsa, F_THEME1_10, F_THEME2_10, F_THEME3_10, F_THEME4_10, F_TOTAL_10, lihtc_flag) %>% 
  mutate(post = 0,
         year = 2010) %>%
  rename("treat" = "lihtc_flag",
         "SVI_FLAG_COUNT_SES" = "F_THEME1_10",
         "SVI_FLAG_COUNT_HHCHAR" = "F_THEME2_10",
         "SVI_FLAG_COUNT_REM" = "F_THEME3_10",
         "SVI_FLAG_COUNT_HOUSETRANSPT" = "F_THEME4_10",
         "SVI_FLAG_COUNT_OVERALL" = "F_TOTAL_10") 

nrow(lihtc_did10_div_svi)
```


```{r}
# Create 2020 df, create post variable and set to 1, create year variable and set to 2020
lihtc_did20_div_svi <- svi_divisional_lihtc_df %>% 
  select(GEOID_2010_trt, cbsa, F_THEME1_20, F_THEME2_20, F_THEME3_20, F_THEME4_20, F_TOTAL_20, lihtc_flag) %>% 
  mutate(post = 1,
         year = 2020) %>%
  rename("treat" = "lihtc_flag",
         "SVI_FLAG_COUNT_SES" = "F_THEME1_20",
         "SVI_FLAG_COUNT_HHCHAR" = "F_THEME2_20",
         "SVI_FLAG_COUNT_REM" = "F_THEME3_20",
         "SVI_FLAG_COUNT_HOUSETRANSPT" = "F_THEME4_20",
         "SVI_FLAG_COUNT_OVERALL" = "F_TOTAL_20"
  )


nrow(lihtc_did20_div_svi)
```


```{r}
lihtc_diff_in_diff_div_svi <- bind_rows(lihtc_did10_div_svi, lihtc_did20_div_svi)

lihtc_diff_in_diff_div_svi <- lihtc_diff_in_diff_div_svi %>% arrange(post, treat, GEOID_2010_trt)

nrow(lihtc_diff_in_diff_div_svi)
```

### Divisional Median Income

```{r}
# Create 2010 df, create post variable and set to 0, create year variable and set to 2010, remove any tracts that don't have data for 2010 and 2019
lihtc_did10_div_inc <- svi_divisional_lihtc_df %>% 
  filter(!is.na(Median_Income_10adj_log)) %>% filter(!is.na(Median_Income_19_log)) %>%
  select(GEOID_2010_trt, cbsa, Median_Income_10adj_log, lihtc_flag) %>% 
  mutate(post = 0,
         year = 2010) %>%
  rename("treat" = "lihtc_flag",
         "MEDIAN_INCOME" = "Median_Income_10adj_log") 


nrow(lihtc_did10_div_inc)
```


```{r}
# Create 2019 df, create post variable and set to 1, create year variable and set to 2019, remove any tracts that don't have data for 2010 and 2019
lihtc_did19_div_inc <- svi_divisional_lihtc_df %>% 
  filter(!is.na(Median_Income_10adj_log)) %>% filter(!is.na(Median_Income_19_log)) %>%
  select(GEOID_2010_trt, cbsa, Median_Income_19_log, lihtc_flag) %>% 
  mutate(post = 1,
         year = 2019) %>%
  rename("treat" = "lihtc_flag",
         "MEDIAN_INCOME" = "Median_Income_19_log") 


nrow(lihtc_did19_div_inc)
```


```{r}
lihtc_diff_in_diff_div_inc <- bind_rows(lihtc_did10_div_inc, lihtc_did19_div_inc)

lihtc_diff_in_diff_div_inc <- lihtc_diff_in_diff_div_inc %>% arrange(post, treat, GEOID_2010_trt)

nrow(lihtc_diff_in_diff_div_inc)
```


### Divisional Median Home Value

```{r}
lihtc_did10_div_mhv <- svi_divisional_lihtc_df %>% 
  filter(!is.na(Median_Home_Value_10adj_log)) %>% filter(!is.na(Median_Home_Value_19_log)) %>%
  select(GEOID_2010_trt, cbsa, Median_Home_Value_10adj_log, lihtc_flag) %>% 
  mutate(post = 0,
         year = 2010) %>%
  rename("treat" = "lihtc_flag",
         "MEDIAN_HOME_VALUE" = "Median_Home_Value_10adj_log") 


nrow(lihtc_did10_div_mhv)
```


```{r}
lihtc_did19_div_mhv <- svi_divisional_lihtc_df %>% 
  filter(!is.na(Median_Home_Value_10adj_log)) %>% filter(!is.na(Median_Home_Value_19_log)) %>%
  select(GEOID_2010_trt, cbsa, Median_Home_Value_19_log, lihtc_flag) %>% 
  mutate(post = 1,
         year = 2019) %>%
  rename("treat" = "lihtc_flag",
         "MEDIAN_HOME_VALUE" = "Median_Home_Value_19_log") 


nrow(lihtc_did19_div_mhv)
```


```{r}
lihtc_diff_in_diff_div_mhv <- bind_rows(lihtc_did10_div_mhv, lihtc_did19_div_mhv)

lihtc_diff_in_diff_div_mhv <- lihtc_diff_in_diff_div_mhv %>% arrange(post, treat, GEOID_2010_trt)

nrow(lihtc_diff_in_diff_div_mhv)
```



### Divisional House Price Index

```{r}
lihtc_did10_div_hpi <- svi_divisional_lihtc_df %>% 
  filter(!is.na(housing_price_index10_log)) %>% filter(!is.na(housing_price_index20_log)) %>%
  select(GEOID_2010_trt, cbsa, housing_price_index10_log, lihtc_flag) %>% 
  mutate(post = 0,
         year = 2010) %>%
  rename("treat" = "lihtc_flag",
         "HOUSE_PRICE_INDEX" = "housing_price_index10_log") 


nrow(lihtc_did10_div_hpi)
```


```{r}
lihtc_did20_div_hpi <- svi_divisional_lihtc_df %>% 
  filter(!is.na(housing_price_index10_log)) %>% filter(!is.na(housing_price_index20_log)) %>%
  select(GEOID_2010_trt, cbsa, housing_price_index20_log, lihtc_flag) %>% 
  mutate(post = 1,
         year = 2020) %>%
  rename("treat" = "lihtc_flag",
         "HOUSE_PRICE_INDEX" = "housing_price_index20_log") 


nrow(lihtc_did20_div_hpi)
```


```{r}
lihtc_diff_in_diff_div_hpi <- bind_rows(lihtc_did10_div_hpi, lihtc_did20_div_hpi)

lihtc_diff_in_diff_div_hpi <- lihtc_diff_in_diff_div_hpi %>% arrange(post, treat, GEOID_2010_trt)

nrow(lihtc_diff_in_diff_div_hpi)
```


## LIHTC Divisional Model

```{r}
# SVI & Economic Models

m1_lihtc_div <- lm( SVI_FLAG_COUNT_SES ~ treat + post + treat*post + cbsa, data=lihtc_diff_in_diff_div_svi )

m2_lihtc_div <- lm( SVI_FLAG_COUNT_HHCHAR ~ treat + post + treat*post + cbsa, data=lihtc_diff_in_diff_div_svi )

m3_lihtc_div <- lm( SVI_FLAG_COUNT_REM ~ treat + post + treat*post + cbsa, data=lihtc_diff_in_diff_div_svi )

m4_lihtc_div <- lm( SVI_FLAG_COUNT_HOUSETRANSPT ~ treat + post + treat*post + cbsa, data=lihtc_diff_in_diff_div_svi )

m5_lihtc_div <- lm( SVI_FLAG_COUNT_OVERALL  ~ treat + post + treat*post + cbsa, data=lihtc_diff_in_diff_div_svi)

m6_lihtc_div <- lm( MEDIAN_INCOME ~ treat + post + treat*post + cbsa, data=lihtc_diff_in_diff_div_inc )

m7_lihtc_div <- lm( MEDIAN_HOME_VALUE ~ treat + post + treat*post + cbsa, data=lihtc_diff_in_diff_div_mhv )

m8_lihtc_div <- lm( HOUSE_PRICE_INDEX ~ treat + post + treat*post + cbsa, data=lihtc_diff_in_diff_div_hpi )

# Add all models to a list
models <- list(
  
  "SES" = m1_lihtc_div,
  "HHChar"  = m2_lihtc_div,
  "REM" = m3_lihtc_div,
  "HOUSETRANSPT" = m4_lihtc_div,
  "OVERALL" = m5_lihtc_div,
  "Median Income (USD, logged)" = m6_lihtc_div,
  "Median Home Value (USD, logged)" = m7_lihtc_div,
  "House Price Index (logged)" = m8_lihtc_div
)


# Display model results
modelsummary(models,  fmt = 2, stars = c('*' = .05, '**' = .01, '***' = .001), coef_omit = "cbsa", gof_omit = "IC|Log",
             notes = list('All models include metro-level fixed effects by core-based statistical area (cbsa).'),
             title = paste0("Differences-in-Differences Linear Regression Analysis of LIHTC in ", census_division)) %>%
  group_tt(j = list("Social Vulnerability" = 2:6, "Economic Outcomes" = 7:9))
```

As with our national data, we do not see a statistically significant changes in social vulnerability or economic outcomes for tracts participating in the LIHTC program. We cannot conclude that the program had a measurable impact in the Mountain Division tracts.

### Visualize Divisional Models

Because we do not have any statistically significant changes in our outcomes we not need to visualize the counterfactual and outcome slopegraphs.

```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}
# Save data sets

saveRDS(svi_divisional_lihtc_df, file = here::here(paste0("data/rodeo/", str_replace_all(census_division, " ", "_"), "_svi_divisional_lihtc.rds")))

saveRDS(svi_national_lihtc_df, file = here::here(paste0("data/rodeo/", str_replace_all(census_division, " ", "_"), "_svi_national_lihtc.rds")))

saveRDS(svi_divisional_nmtc_df, file = here::here(paste0("data/rodeo/", str_replace_all(census_division, " ", "_"), "_svi_divisional_nmtc.rds")))

saveRDS(svi_national_nmtc_df, file = here::here(paste0("data/rodeo/", str_replace_all(census_division, " ", "_"), "_svi_national_nmtc.rds")))

# Save regression models

save(m1_nmtc_div, m2_nmtc_div, m3_nmtc_div, m4_nmtc_div, m5_nmtc_div, m6_nmtc_div, m7_nmtc_div, m8_nmtc_div, file = here::here(paste0("data/rodeo/", str_replace_all(census_division, " ", "_"), "_svi_did_models_nmtc.RData")))

save(m1_lihtc_div, m2_lihtc_div, m3_lihtc_div, m4_lihtc_div, m5_lihtc_div, m6_lihtc_div, m7_lihtc_div, m8_lihtc_div, file = here::here(paste0("data/rodeo/", str_replace_all(census_division, " ", "_"), "_svi_did_models_lihtc.RData")))

```

